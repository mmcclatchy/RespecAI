repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: detect-private-key
      - id: no-commit-to-branch
        args: ['--branch', 'prod']

  - repo: local
    hooks:
      - id: move-inline-imports
        name: Move inline imports to top of file
        entry: scripts/move-inline-imports.sh
        language: system
        types: [python]

  - repo: local
    hooks:
      - id: remove-single-line-docstrings
        name: Remove single-line docstrings from Python files
        entry: uv run scripts/remove_single_line_docstrings.py
        language: system
        types: [python]

  - repo: https://github.com/DavidAnson/markdownlint-cli2
    rev: v0.18.1
    hooks:
      - id: markdownlint-cli2

  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.12.12
    hooks:
      # Run the linter.
      - id: ruff-check
        args: [ --fix ]
      # Run the formatter.
      - id: ruff-format

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.17.1
    hooks:
      - id: mypy
        args: [
          --config-file=pyproject.toml,
          # --ignore-missing-imports
        ]
        additional_dependencies: [
          "pydantic>=2.0.0",
          "pydantic-settings>=2.0.0",
          "python-dotenv>=1.1.1",
          "pyyaml>=6.0.2",
          "aiofiles>=24.1.0",
          "fastmcp>=2.12.0",
          "pytest>=8.4.1",
          "pytest-asyncio>=1.1.0",
          "pytest-mock>=3.14.1",
          "types-pyyaml>=6.0.12.20250809",
          "types-aiofiles>=24.1.0.20250822",
          "rich>=14.1.0",
          "docker>=7.1.0,<8.0.0",
          "types-docker>=7.1.0,<8.0.0",
        ]
